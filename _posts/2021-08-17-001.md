---
layout: post
title: TortoiseGitで過去改変する方法
date: 2021/08/17 10:00:00
# update: 
# description: 
image: /assets/img/post/202108/TortoiseGit_logo.png
toc: true
share: true
comments: false
tags:
  - Git
  - rebase
  - TortoiseGit
---

# 初めに

コミットやプッシュの後に資産やメッセージの編集が必要になることがある。
ここでは主にTortoiseGitでのリベースを用いた、過去改変の記事リンクをまとめる。


# 注意事項

リベースコマンドは個人のリポジトリに対してのみ実施すること。
もし、チームで当該リポジトリを使用していた場合は大変なことになる。
例えば、リベース前のリビジョンから誰かがプッシュしようとした場合、プッシュできない旨のエラーが発生するなど。


# 直前のコミットのやり直し(プッシュ前)

コミット画面で以下をチェックして、コミットする。

  - 最後のコミットをやり直し

しかし、あくまでもコミットのやり直しであって、プッシュのやり直しではない。
プッシュした後では期待通りに動作せず、gitは正常に終了しませんでした(終了コード1)、とエラーがでる。


# コミットメッセージの編集(プッシュ後)

[TortoiseGit でコミットメッセージを変更する - へっぽこプログラマーの備忘録
](https://kuttsun.blogspot.com/2017/10/tortoisegit.html)


# コミットメッセージの日時の維持

[Gitの過去のコミットメッセージを日時を維持しつつ修正（初回コミット分も含めて）
](https://www.kreyysyy.net/2020/12/19/1477/)

GitHubで表示される時間はCommitDateであるが、上記を実施すると実行時の日時に上書きされてしまう。
そのため、初めてコミットした時の日時である、AuthorDateでCommitDateを上書きする必要がある。

また、変更を加えるコミットの１つ前のコミットを基に実行するため、
初回コミットはリベースコマンドで上書きできない。
一応やり方はあるみたいだが、手間がかかる。
そのため、初回コミットはREADMEを対象にした方がよさそう。


# プッシュの取り消し

[【TortoiseGit】コミットを取り消し（なかったことに）したい時の手順 - 絶壁の断崖絶壁
](https://zeppeki-blog.com/2017/09/14/tortoisegit/)


# 最後に

綺麗なのはいいことだ。ただ一番いいのは最初のコミットで間違いがないこと。


# 出典元

  1. [TortoiseGit
     ](https://tortoisegit.org/)

