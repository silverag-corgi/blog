---
layout: post
title: TortoiseGitの操作
# date: 2021/08/01 00:00:00
# update: 2021/08/02 00:00:00
# description: 
# image: /assets/images/
toc: true
share: true
comments: false
tags:
  - TortoiseGit
---

# TortoiseGitの操作

コミットやプッシュした後に、資産の追加やメッセージの修正が必要になった場合に実施する。


## 直前のコミットのやり直し(プッシュ前)

コミット画面で以下をチェックして、コミットする。

  - 最後のコミットをやり直し

しかし、あくまでもコミットのやり直しであって、プッシュのやり直しではない。
プッシュした後では期待する通りに動作せず、エラーがでる。

  - gitは正常に終了しませんでした (終了コード 1)

そのため、大人しく再度コミットをする。


## 2つ以上前のコミットメッセージの編集

[TortoiseGit でコミットメッセージを変更する - へっぽこプログラマーの備忘録
](https://kuttsun.blogspot.com/2017/10/tortoisegit.html)

リベースコマンドを使用するため、個人のリポジトリに対してのみ実施すること。
もし、チームで当該リポジトリを使用していて、取り消す前のリビジョンで作業していた場合、
プッシュできない旨のエラーが発生する。


## プッシュの取り消し

[【TortoiseGit】コミットを取り消し（なかったことに）したい時の手順 - 絶壁の断崖絶壁
](https://zeppeki-blog.com/2017/09/14/tortoisegit/)

リベースコマンドを使用するため、同様に注意が必要。


## コミットメッセージの日時の維持

[Gitの過去のコミットメッセージを日時を維持しつつ修正（初回コミット分も含めて）
](https://www.kreyysyy.net/2020/12/19/1477/)

リベースコマンドを使用するため、同様に注意が必要。

GitHubで表示される時間はCommitDateであるが、上記を実施すると実行時の日時に上書きされてしまう。
そのため、初めてコミットした時の日時である、AuthorDateでCommitDateを上書きする必要がある。

また、変更を加えるコミットの１つ前のコミットを基に実行するため、
初回コミットはリベースコマンドで上書きできない。
一応やり方はあるみたいだが、手間がかかる。
そのため、初回コミットは.gitignoreなどを対象にした方がよさそう。

